DONE:
delay
switch
genrator
flag
source
hold timer (single byte)
counter auto reset
counter manual reset


cycle=number of cycles for node
n=number of output nodes


hold timer: (singluar byte) (cycle=14+n)

BTFSS input_state
goto no_rest
MOVLW time/total_cycles
MOVWF counter
goto end_temp

no_rest NOP
NOP
NOP
end_temp

CLEAR W
XORLW counter,W
BTFS STATUS,Z
goto skip
DECF counter,F
BSF output
BSF outputs...
goto end
skip Delay n+2
end BCF input_state


counter manual reset: (cycle=15+n)

BTFSC reset_input
CLRF counter_file,F

BTFSS prev_edge
BTFSS input_state
goto no_act

MOVLW upto
XORFW counter_file,W
BTFSS STATUS,Z
goto increment

BSF output
BSF output
BSF output...
goto end

no_act Delay 3+n
goto end

increment INCF counter_file,F

end BCF input_state
BCF prev_edge
BTFSC input_state
BSF prev_edge



counter auto reset: (cycle=15+n)


BTFSS prev_edge
BTFSS input_state
goto no_act

INCF counter_file,F
MOVLW up_to
XORFW counterfile,W
BTFSC STATUS,Z
goto SKIP

CLRF counter_file
BSF outputs
BSF outputs
BSF outputs...
goto end

no_act Delay 5+n
goto end

skip Delay n+2

end BCF input_state
BCF prev_edge
BTFSC input_state
BSF prev_edge


switch: (cycle= 6+n)
BTFSC input_state 
BTFSS read_flag #if inverter change to BTFSC

goto skip
BSF outputs
BSF outputs...
goto end
skip Delay n+1

end BCF input_state


genrator: (cycle= 4+n)
BTFSS Flag_name #if inverter change to BTFSC
goto skip

BSF outputs
BSF outputs...
goto end
skip Delay 1+n
end

flag: (cycle= 4)
BCF Flagname
BTFSC input_state
BSF flagname
BCF input_state

source: (cycle= n)
BSF output
BSF outputs ...

#1 cycle delay
NOP

#2 cycle delay
NOP
NOP

#3 cycle delay
NOP
NOP
NOP

#4 cycle delay
call small_delay_4

#5 cycle delay
call small_delay_5

#6 cycle delay
call small_delay_6

#7 cycle delay
Movlw 0
call delay*3_+1

#8 cycle delay
Movlw 0
call delay*3_+2

#9 cycle delay
Movlw 0
call delay*3_+3

#10 cycle delay
Movlw 1
call delay*3_+1


small_delay_6 nop
small_delay_5 nop
small_delay_4 return


delay*3_+3 Nop
delay*3_+2 Nop
delay*3_+1 Decfsz w,w
goto delay*3_+0
return